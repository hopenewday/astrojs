---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/header/Header.astro";
import MainGrid from "../components/home/MainGrid.astro";

// Sample data for demonstration
const articles = [
  {
    id: "1",
    title: "The Future of Artificial Intelligence in 2023",
    slug: "future-of-ai-2023",
    excerpt: "Exploring the latest advancements in AI and what they mean for society, business, and everyday life.",
    image: "/images/tech/ai-future.jpg",
    category: {
      name: "Tech",
      slug: "tech"
    },
    author: {
      name: "Alex Johnson",
      slug: "alex-johnson",
      avatar: "/images/authors/alex-johnson.jpg"
    },
    publishDate: new Date("2023-06-15"),
    trending: true,
    featured: true
  },
  {
    id: "2",
    title: "Modern Web Development Frameworks Compared",
    slug: "web-frameworks-compared",
    excerpt: "An in-depth analysis of the most popular web development frameworks in 2023, including React, Vue, and Svelte.",
    image: "/images/tech/web-dev.jpg",
    category: {
      name: "Tech",
      slug: "tech"
    },
    author: {
      name: "Sarah Chen",
      slug: "sarah-chen",
      avatar: "/images/authors/sarah-chen.jpg"
    },
    publishDate: new Date("2023-06-10")
  },
  {
    id: "3",
    title: "The Renaissance of Indie Filmmaking",
    slug: "indie-film-renaissance",
    excerpt: "How digital technology and streaming platforms are giving independent filmmakers unprecedented opportunities.",
    image: "/images/culture/indie-film.jpg",
    category: {
      name: "Culture",
      slug: "culture"
    },
    author: {
      name: "Michael Rivera",
      slug: "michael-rivera",
      avatar: "/images/authors/michael-rivera.jpg"
    },
    publishDate: new Date("2023-06-05")
  },
  {
    id: "4",
    title: "Climate Change: The Latest Research",
    slug: "climate-change-research",
    excerpt: "A summary of the most recent scientific findings on climate change and their implications for global policy.",
    image: "/images/science/climate.jpg",
    category: {
      name: "Science",
      slug: "science"
    },
    author: {
      name: "Dr. Emily Wong",
      slug: "emily-wong",
      avatar: "/images/authors/emily-wong.jpg"
    },
    publishDate: new Date("2023-06-01"),
    trending: true
  },
  {
    id: "5",
    title: "The Global Economy in a Post-Pandemic World",
    slug: "post-pandemic-economy",
    excerpt: "Analyzing the long-term economic impacts of the pandemic and strategies for sustainable recovery.",
    image: "/images/business/economy.jpg",
    category: {
      name: "Business",
      slug: "business"
    },
    author: {
      name: "Robert Kiyosaki",
      slug: "robert-kiyosaki",
      avatar: "/images/authors/robert-kiyosaki.jpg"
    },
    publishDate: new Date("2023-05-28")
  },
  {
    id: "6",
    title: "Quantum Computing Explained for Non-Scientists",
    slug: "quantum-computing-explained",
    excerpt: "Breaking down the complex principles of quantum computing into understandable concepts for the general public.",
    image: "/images/tech/quantum.jpg",
    category: {
      name: "Tech",
      slug: "tech"
    },
    author: {
      name: "Alex Johnson",
      slug: "alex-johnson",
      avatar: "/images/authors/alex-johnson.jpg"
    },
    publishDate: new Date("2023-05-25")
  }
];
---

<BaseLayout title="ChakrirChain - Modern Magazine" description="A modern magazine-style publication built with Astro.js">
  <Header slot="header" />
  
  <main>
    <MainGrid articles={articles} />
    
    <!-- Flash Button (Mobile Only) -->
    <div class="flash-button-container">
      <a href="/flash" class="flash-button">
        <span>Flash</span>
      </a>
    </div>
  </main>
  
  <footer slot="footer" class="site-footer">
    <div class="footer-container">
      <div class="footer-logo">
        <span class="logo-text">chakrirchain</span>
        <p class="footer-tagline">Modern insights for the digital age</p>
      </div>
      
      <div class="footer-links">
        <div class="footer-section">
          <h3 class="footer-heading">Categories</h3>
          <ul class="footer-nav">
            <li><a href="/category/tech">Tech</a></li>
            <li><a href="/category/culture">Culture</a></li>
            <li><a href="/category/science">Science</a></li>
            <li><a href="/category/business">Business</a></li>
            <li><a href="/category/politics">Politics</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3 class="footer-heading">Company</h3>
          <ul class="footer-nav">
            <li><a href="/about">About Us</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="/careers">Careers</a></li>
            <li><a href="/advertise">Advertise</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3 class="footer-heading">Legal</h3>
          <ul class="footer-nav">
            <li><a href="/privacy">Privacy Policy</a></li>
            <li><a href="/terms">Terms of Service</a></li>
            <li><a href="/cookies">Cookie Policy</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3 class="footer-heading">Follow Us</h3>
          <div class="social-links">
            <a href="https://twitter.com" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path>
              </svg>
            </a>
            <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
              </svg>
            </a>
            <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
            </a>
            <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
              </svg>
            </a>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p class="copyright">&copy; {new Date().getFullYear()} ChakrirChain. All rights reserved.</p>
      </div>
    </div>
  </footer>
</BaseLayout>

<script>
  // Ensure Flash button is only shown on mobile devices
  document.addEventListener('DOMContentLoaded', () => {
    const flashButtonContainer = document.querySelector('.flash-button-container');
    const isMobile = window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (flashButtonContainer) {
      if (isMobile) {
        flashButtonContainer.style.display = 'block';
      } else {
        flashButtonContainer.style.display = 'none';
      }
    }
    
    // Update on resize
    window.addEventListener('resize', () => {
      if (flashButtonContainer) {
        if (window.innerWidth <= 768) {
          flashButtonContainer.style.display = 'block';
        } else {
          flashButtonContainer.style.display = 'none';
        }
      }
    });
  });
</script>

<style>
  /* Main Content Styles */
  
  /* Flash Button Styles */
  .flash-button-container {
    display: none; /* Hidden by default */
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    z-index: 100;
  }
  
  .flash-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 4rem;
    height: 4rem;
    border-radius: 50%;
    background: linear-gradient(45deg, #ff5733, #ff8c33);
    color: white;
    font-weight: bold;
    text-decoration: none;
    box-shadow: 0 0 15px rgba(255, 87, 51, 0.7);
    transition: all 0.3s ease;
    animation: bounce 2s infinite;
  }
  
  .flash-button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(255, 87, 51, 0.9);
  }
  
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-10px);
    }
    60% {
      transform: translateY(-5px);
    }
  }
  
  /* Show Flash button only on mobile */
  @media (max-width: 768px) {
    .flash-button-container {
      display: block;
    }
  }
  main {
    min-height: 100vh;
  }
  
  /* Footer Styles */
  .site-footer {
    background-color: #1f2937;
    color: #f9fafb;
    padding: 4rem 1rem 2rem;
  }
  
  .footer-container {
    max-width: 1280px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
  }
  
  @media (min-width: 768px) {
    .footer-container {
      grid-template-columns: 1fr 2fr;
    }
  }
  
  .footer-logo {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .logo-text {
    font-size: 1.5rem;
    font-weight: 700;
    background: linear-gradient(90deg, #e5e7eb, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .footer-tagline {
    font-size: 0.875rem;
    color: #d1d5db;
    margin: 0;
  }
  
  .footer-links {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
  }
  
  @media (min-width: 640px) {
    .footer-links {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  .footer-heading {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 1rem;
    color: #f9fafb;
  }
  
  .footer-nav {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .footer-nav a {
    color: #d1d5db;
    text-decoration: none;
    font-size: 0.875rem;
    transition: color 0.2s;
  }
  
  .footer-nav a:hover {
    color: #60a5fa;
  }
  
  .social-links {
    display: flex;
    gap: 1rem;
  }
  
  .social-links a {
    color: #d1d5db;
    transition: color 0.2s;
  }
  
  .social-links a:hover {
    color: #60a5fa;
  }
  
  .footer-bottom {
    grid-column: 1 / -1;
    border-top: 1px solid #374151;
    padding-top: 2rem;
    text-align: center;
  }
  
  .copyright {
    font-size: 0.875rem;
    color: #9ca3af;
    margin: 0;
  }
  
  /* Light Mode Footer */
  :global(.light) .site-footer {
    background-color: #f9fafb;
    color: #1f2937;
  }
  
  :global(.light) .logo-text {
    background: linear-gradient(90deg, #1f2937, #3b82f6);
    -webkit-background-clip: text;
    background-clip: text;
  }
  
  :global(.light) .footer-tagline {
    color: #4b5563;
  }
  
  :global(.light) .footer-heading {
    color: #1f2937;
  }
  
  :global(.light) .footer-nav a {
    color: #4b5563;
  }
  
  :global(.light) .footer-nav a:hover {
    color: #3b82f6;
  }
  
  :global(.light) .social-links a {
    color: #4b5563;
  }
  
  :global(.light) .social-links a:hover {
    color: #3b82f6;
  }
  
  :global(.light) .footer-bottom {
    border-top-color: #e5e7eb;
  }
  
  :global(.light) .copyright {
    color: #6b7280;
  }
</style>